<div class="container mt-5 p-0">
    <h4 class="mb-3">Module Participants</h4>

    <div *ngIf="participants.length === 0" class="alert alert-info mt-3">
        No participants found.
    </div>

    <div *ngIf="participants.length > 0">
        <div class="mb-4">
            <input type="text" class="form-control" placeholder="Search participants..." [(ngModel)]="searchQuery" (input)="onSearch()">
        </div>

        <div class="table-responsive mt-3">
            <table class="table table-hover">
                <thead class="table-light">
                    <tr>
                        <th>ID</th>
                        <th>Last Name</th>
                        <th>First Name</th>
                        <th>Student Email</th>
                        <th>Gender</th>
                    </tr>
                </thead>
                
                <tbody>
                    <tr *ngFor="let participant of displayedParticipants">
                        <td>{{ participant.id }}</td>
                        <td>{{ participant.lastName }}</td>
                        <td>{{ participant.firstName }}</td>
                        <td>{{ participant.email }}</td>
                        <td>{{ participant.gender }}</td>
                    </tr>
                </tbody>
            </table>

            <mat-paginator [length]="filteredParticipants.length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions"
                [pageIndex]="pageIndex" (page)="onPageChange($event)" aria-label="Select page"
                class="mat-elevation-z0">
            </mat-paginator>
        </div>
    </div>
    
    <button class="btn btn-primary" (click)="downloadParticipants()" *ngIf="participants.length > 0">Download CSV</button>
    <button class="btn btn-secondary" (click)="onBackToModuleDetail()">Back to Module Details</button>
</div>